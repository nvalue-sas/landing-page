---
const navItems = [
  { name: "Inicio", href: "#hero" },
  { name: "Servicios", href: "#services" },
  { name: "Portafolio", href: "#portfolio" },
  { name: "Nosotros", href: "#about" },
  { name: "Contacto", href: "#contact" },
];
---

<header
  id="navbar"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 dark:bg-transparent"
>
  <div class="container mx-auto px-4 py-2 sm:px-6 md:px-8">
    <nav class="flex items-center justify-between">
      <a href="#">
        <img
          src="/logo-dark.svg"
          alt="Logo"
          width={128}
          height={53}
          class="dark:block hidden"
        />
        <img
          src="/logo.svg"
          alt="Logo"
          width={128}
          height={53}
          class="block dark:hidden"
        />
      </a>
      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-8">
        {
          navItems.map((item) => (
            <a
              href={item.href}
              class="text-secondary-700 hover:text-primary-600 transition-colors text-sm/6 font-medium dark:text-white dark:hover:text-primary-300"
            >
              {item.name}
            </a>
          ))
        }
        <a
          href="#contact"
          class="group relative px-3 py-2 text-sm/6 text-primary-500 dark:text-primary-300"
          ><span
            class="absolute inset-0 border border-dashed border-primary-300/60 bg-primary-400/10 group-hover:bg-primary-400/15 dark:border-primary-300/30"
          ></span><span class="font-semibold font-mono">Iniciar proyecto</span><svg
            width="5"
            height="5"
            viewBox="0 0 5 5"
            class="absolute top-[-2px] left-[-2px] fill-primary-300 dark:fill-primary-300/50"
            ><path d="M2 0h1v2h2v1h-2v2h-1v-2h-2v-1h2z"></path></svg
          ><svg
            width="5"
            height="5"
            viewBox="0 0 5 5"
            class="absolute top-[-2px] right-[-2px] fill-primary-300 dark:fill-primary-300/50"
            ><path d="M2 0h1v2h2v1h-2v2h-1v-2h-2v-1h2z"></path></svg
          ><svg
            width="5"
            height="5"
            viewBox="0 0 5 5"
            class="absolute bottom-[-2px] left-[-2px] fill-primary-300 dark:fill-primary-300/50"
            ><path d="M2 0h1v2h2v1h-2v2h-1v-2h-2v-1h2z"></path></svg
          ><svg
            width="5"
            height="5"
            viewBox="0 0 5 5"
            class="absolute right-[-2px] bottom-[-2px] fill-primary-300 dark:fill-primary-300/50"
            ><path d="M2 0h1v2h2v1h-2v2h-1v-2h-2v-1h2z"></path></svg
          ></a
        >
        <div
          class="relative z-0 flex items-center rounded-full p-0.75 text-gray-950 dark:bg-white/10 dark:text-white"
        >        
        </div>        
      </div>      
      <!-- Mobile Navigation Toggle -->
      <div class="md:hidden flex items-center space-x-4">
        <button
          id="menu-toggle"
          class="text-white dark:text-white focus:outline-none"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
          </svg>
        </button>
      </div>
      <button
      id="themeToggle"
      type="button"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <span
        class="rounded-full p-1.5 *:size-7 bg-white ring inset-ring ring-gray-950/10 inset-ring-white/10 sm:p-0 dark:bg-gray-700 dark:text-white dark:ring-transparent flex dark:hidden"
        aria-label="Light theme"
      >
        <svg viewBox="0 0 28 28" fill="none">
          <circle cx="14" cy="14" r="3.5" stroke="currentColor"></circle>
          <path d="M14 8.5V6.5" stroke="currentColor"></path>
          <path d="M17.889 10.1115L19.3032 8.69727" stroke="currentColor"
          ></path>
          <path d="M19.5 14L21.5 14" stroke="currentColor"></path>
          <path d="M17.889 17.8885L19.3032 19.3027" stroke="currentColor"
          ></path>
          <path d="M14 21.5V19.5" stroke="currentColor"></path>
          <path d="M8.69663 19.3029L10.1108 17.8887" stroke="currentColor"
          ></path>
          <path d="M6.5 14L8.5 14" stroke="currentColor"></path>
          <path d="M8.69663 8.69711L10.1108 10.1113" stroke="currentColor"
          ></path>
        </svg>
      </span>
      <span id="icon-moon" class="hidden dark:flex">
        <span
          class="rounded-full p-1.5 *:size-7 bg-white ring inset-ring ring-gray-950/10 inset-ring-white/10 sm:p-0 dark:bg-gray-700 dark:text-white dark:ring-transparent"
          aria-label="Dark theme"
          ><svg viewBox="0 0 28 28" fill="none">
            <path
              d="M10.5 9.99914C10.5 14.1413 13.8579 17.4991 18 17.4991C19.0332 17.4991 20.0176 17.2902 20.9132 16.9123C19.7761 19.6075 17.109 21.4991 14 21.4991C9.85786 21.4991 6.5 18.1413 6.5 13.9991C6.5 10.8902 8.39167 8.22304 11.0868 7.08594C10.7089 7.98159 10.5 8.96597 10.5 9.99914Z"
              stroke="currentColor"
              stroke-linejoin="round"></path>
            <path
              d="M16.3561 6.50754L16.5 5.5L16.6439 6.50754C16.7068 6.94752 17.0525 7.29321 17.4925 7.35607L18.5 7.5L17.4925 7.64393C17.0525 7.70679 16.7068 8.05248 16.6439 8.49246L16.5 9.5L16.3561 8.49246C16.2932 8.05248 15.9475 7.70679 15.5075 7.64393L14.5 7.5L15.5075 7.35607C15.9475 7.29321 16.2932 6.94752 16.3561 6.50754Z"
              fill="currentColor"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
            <path
              d="M20.3561 11.5075L20.5 10.5L20.6439 11.5075C20.7068 11.9475 21.0525 12.2932 21.4925 12.3561L22.5 12.5L21.4925 12.6439C21.0525 12.7068 20.7068 13.0525 20.6439 13.4925L20.5 14.5L20.3561 13.4925C20.2932 13.0525 19.9475 12.7068 19.5075 12.6439L18.5 12.5L19.5075 12.3561C19.9475 12.2932 20.2932 11.9475 20.3561 11.5075Z"
              fill="currentColor"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
          </svg></span
        >
      </span>
    </button>

    </nav>

    <!-- Mobile Navigation Menu -->
    <div
      id="mobile-menu"
      class="md:hidden hidden bg-white dark:bg-dark-card rounded-lg shadow-lg mt-4 py-2 absolute left-6 right-6"
    >
      {
        navItems.map((item) => (
          <a
            href={item.href}
            class="block px-4 py-2 text-gray-800 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-dark-border hover:text-accent-600"
          >
            {item.name}
          </a>
        ))
      }
      <a
        href="#contact"
        class="block px-4 py-2 mt-2 bg-accent-600 text-white mx-4 rounded-md text-center"
      >
        Iniciar Proyecto
      </a>
    </div>
  </div>
  <script>
    // Función para verificar y establecer el tema inicial
    function initTheme() {
      const savedTheme = localStorage.getItem("theme");
      const prefersDark = window.matchMedia(
        "(prefers-color-scheme: dark)"
      ).matches;

      if (savedTheme === "dark" || (!savedTheme && prefersDark)) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    }

    function toggleTheme() {
      const isDark = document.documentElement.classList.contains("dark");

      if (isDark) {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("theme", "light");
      } else {
        document.documentElement.classList.add("dark");
        localStorage.setItem("theme", "dark");
      }
    }

    // Inicializar cuando el DOM esté listo
    document.addEventListener("DOMContentLoaded", () => {
      initTheme();

      // Configurar el botón de cambio de tema
      const themeToggleButton = document.getElementById("themeToggle");
      themeToggleButton?.addEventListener("click", toggleTheme);
    });

    // Escuchar cambios en las preferencias del sistema
    window
      .matchMedia("(prefers-color-scheme: dark)")
      .addEventListener("change", (e) => {
        if (!localStorage.getItem("theme")) {
          if (e.matches) {
            document.documentElement.classList.add("dark");
          } else {
            document.documentElement.classList.remove("dark");
          }
        }
      });
  </script>
</header>
